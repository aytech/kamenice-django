{"version":3,"sources":["sections/AppHeader/assets/mill.svg","sections/AppHeader/index.tsx","lib/components/FormHelper.ts","lib/components/UserFormHelper.ts","sections/UserDrawer/index.tsx","lib/components/CsCalendarLocale.ts","lib/components/AntCalendarHelper.ts","lib/Types.ts","lib/components/ReservationFormHelper.ts","sections/ReservationModal/index.tsx","sections/ReserveCalendar/index.tsx","lib/Constants.ts","seed.ts","index.tsx","sections/Home/index.tsx","sections/Overview/index.tsx"],"names":["AppHeader","withRouter","location","history","useState","search","setSearch","className","to","src","logo","alt","placeholder","enterButton","onChange","event","target","value","onSearch","FormHelper","requiredRule","required","message","trim","undefined","UserFormHelper","phoneCodeRequiredRules","pattern","transform","requiredAlphaRules","requiredNumericRules","UserDrawer","setGuest","setVisible","visible","Form","useForm","form","emailPrefixIcon","Item","name","noStyle","MailOutlined","onClose","placement","title","width","footer","style","textAlign","onClick","validateFields","then","console","log","getFieldsValue","catch","error","type","initialValues","phone","code","layout","level","hasFeedback","label","rules","Group","compact","valuePropName","addonBefore","Option","marginBottom","CsCalendarLocale","months","weekDays","short","isWeekend","weekStartingIndex","getToday","gregorainTodayObject","toNativeDate","date","Date","year","month","day","getMonthLength","getDate","transformDigit","digit","nextMonth","previousMonth","openMonthSelector","openYearSelector","closeMonthSelector","closeYearSelector","defaultPlaceholder","from","digitSeparator","yearLetterSkip","isRtl","getDaysWithinMonth","days","index","push","getDaysWithinOverlappingMonths","utils","forEach","length","TransformDate","years","fromMonth","toMonth","idx","Array","keys","shift","getDaysWithinOverlappingYears","AntCalendarHelper","range","fromDate","toDate","hour","minute","moment","Reservation","key","ReservationFormHelper","purposeOptions","reservationOptions","getRequiredRule","guestValidators","validator","_rule","roommates","getFieldValue","Promise","resolve","duplicate","filter","id","reject","Error","roommateValidators","duplicates","RangePicker","DatePicker","ReservationModal","close","guestList","isOpen","openDrawer","setDrawerType","updateRange","guest","surname","email","guestOptions","setGuestOptions","dates","footerButtons","float","submitForm","newRange","useEffect","resetFields","onCancel","format","locale","showTime","options","List","fields","add","remove","map","fieldKey","restField","align","MinusCircleOutlined","disabled","block","icon","PlusOutlined","TextArea","allowClear","ReserveCalendar","room","reservedRange","setReservedRange","modalOpen","setModalOpen","reservedDays","setReservedDays","getDayClassName","reservedRanges","rangeId","span","dayValue","rangeDay","find","setNewReservationRange","customDaysClassName","shouldHighlightWeekends","rooms","guests","address","obec","psc","street","citizenship","selected","gender","obcanka","number","visa","client","ApolloClient","uri","cache","InMemoryCache","ReactDOM","render","ApolloProvider","offsetTop","exact","path","component","drawerType","drawerVisible","setDrawerVisible","setGuestList","AppDrawer","guestForm","gutter","series","setSeries","getColor","reservationType","getTimePadded","hours","minutes","time","chart","height","locales","shortMonths","toolbar","download","pan","reset","selectionZoom","zoomIn","zoomOut","plotOptions","bar","horizontal","barHeight","rangeBarGroupRows","colors","seriesIndex","w","config","fill","xaxis","legend","customLegendItems","markers","strokeWidth","strokeColor","fillColors","radius","customHTML","offsetX","offsetY","position","tooltip","custom","tooltipValues","ctx","rangeBar","getTooltipValues","seriesName","substring","reservationName","ylabel","start","end","startVal","getHours","getMinutes","endVal","data","x","y","getTime","document","getElementById"],"mappings":"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","file":"static/js/main.2586352f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/mill.1f872c17.svg\";","import React, { useState } from 'react'\r\nimport { Link, RouteComponentProps, withRouter } from 'react-router-dom'\r\nimport Search from 'antd/lib/input/Search'\r\nimport { Header } from 'antd/lib/layout/layout'\r\nimport './styles.css'\r\nimport logo from './assets/mill.svg'\r\n\r\nexport const AppHeader = withRouter(({ location, history }: RouteComponentProps) => {\r\n\r\n  const [ search, setSearch ] = useState(\"\")\r\n\r\n  return (\r\n    <Header className=\"app-header\">\r\n      <div className=\"app-header__logo-search-section\">\r\n        <div className=\"app-header__logo\">\r\n          <Link to=\"/\">\r\n            {/* <img src=\"https://via.placeholder.com/32\" alt=\"Kamenice logo\" /> */ }\r\n            <img src={ logo } alt=\"Kamenice logo\" />\r\n          </Link>\r\n        </div>\r\n        <div className=\"app-header__search-input\">\r\n          <Search\r\n            placeholder=\"\"\r\n            enterButton\r\n            onChange={ (event) => setSearch(event.target.value) }\r\n            onSearch={ () => { } }\r\n            value={ search }\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"app-header__menu-section\">\r\n        {/* <MenuItems viewer={ viewer } setViewer={ setViewer } /> */ }\r\n      </div>\r\n    </Header>\r\n  )\r\n})","import { Rule } from \"antd/lib/form\"\r\n\r\ninterface IFormHelper {\r\n  requiredRule: Rule\r\n  trim: (value: string | undefined) => string | undefined\r\n}\r\nexport const FormHelper: IFormHelper = {\r\n  requiredRule: {\r\n    required: true,\r\n    message: \"pole je povinné\"\r\n  },\r\n  trim: (value: string | undefined): string | undefined => {\r\n    return value === undefined ? value : value.trim()\r\n  }\r\n}","import { Rule } from \"antd/lib/form\";\r\nimport { FormHelper } from \"./FormHelper\";\r\n\r\ninterface IUserFormHelper {\r\n  phoneCodeRequiredRules: Rule[]\r\n  requiredAlphaRules: Rule[]\r\n  requiredNumericRules: Rule[]\r\n}\r\n\r\nexport const UserFormHelper: IUserFormHelper = {\r\n  phoneCodeRequiredRules: [\r\n    FormHelper.requiredRule,\r\n    {\r\n      message: \"zadejte kód ve formátu 420, +420 nebo (420)\",\r\n      pattern: /^\\+?\\(?[0-9]*\\)?$/,\r\n      transform: FormHelper.trim\r\n    }\r\n  ],\r\n  requiredAlphaRules: [\r\n    FormHelper.requiredRule,\r\n    {\r\n      message: \"zadejte pouze text bez mezer\",\r\n      pattern: /^([A-Za-z])+$/,\r\n      transform: FormHelper.trim\r\n    }\r\n  ],\r\n  requiredNumericRules: [\r\n    FormHelper.requiredRule,\r\n    {\r\n      message: \"zadejte pouze čísla\",\r\n      pattern: /^[\\d\\s]+$/,\r\n      transform: FormHelper.trim\r\n    }\r\n  ]\r\n}","import React from \"react\"\r\nimport { Button, Drawer, Form, Input, Select } from \"antd\"\r\nimport { MailOutlined } from \"@ant-design/icons\"\r\nimport Title from \"antd/lib/typography/Title\"\r\nimport { Store } from \"rc-field-form/lib/interface\"\r\nimport { GuestForm } from \"../../lib/Types\"\r\nimport { UserFormHelper } from \"../../lib/components/UserFormHelper\"\r\nimport { FormHelper } from \"../../lib/components/FormHelper\"\r\nimport \"./styles.css\"\r\n\r\ninterface Props {\r\n  setGuest: (guest: GuestForm) => void,\r\n  setVisible: (visible: boolean) => void,\r\n  visible: boolean\r\n}\r\n\r\nexport const UserDrawer = ({\r\n  setGuest,\r\n  setVisible,\r\n  visible\r\n}: Props) => {\r\n\r\n  const [ form ] = Form.useForm()\r\n  const initialValues: Store = {\r\n    phone: {\r\n      code: \"+420\"\r\n    }\r\n  }\r\n  const emailPrefixIcon = (\r\n    <Form.Item name=\"email-prefix\" noStyle>\r\n      <MailOutlined />\r\n    </Form.Item>\r\n  )\r\n  return (\r\n    <Drawer\r\n      onClose={ () => {\r\n        setVisible(false)\r\n      } }\r\n      placement=\"left\"\r\n      title=\"Nový Uživatel\"\r\n      width={ 500 }\r\n      visible={ visible }\r\n      footer={\r\n        <div style={ {\r\n          textAlign: \"right\"\r\n        } }>\r\n          <Button\r\n            onClick={ () => {\r\n              form.validateFields()\r\n                .then(() => {\r\n                  console.log(\"Submit to data store: \", form.getFieldsValue(true))\r\n                  setGuest(form.getFieldsValue(true))\r\n                  setVisible(false)\r\n                })\r\n                .catch((error) => {\r\n                  console.log(\"Fix errors: \", error)\r\n                })\r\n            } }\r\n            type=\"primary\">\r\n            Vytvořit\r\n          </Button>\r\n        </div>\r\n      }>\r\n      <Form\r\n        form={ form }\r\n        initialValues={ initialValues }\r\n        layout=\"vertical\"\r\n        name=\"user\">\r\n        <Title level={ 5 }>Osobní údaje</Title>\r\n        <Form.Item\r\n          hasFeedback\r\n          label=\"Jméno\"\r\n          name=\"name\"\r\n          required\r\n          rules={ UserFormHelper.requiredAlphaRules }>\r\n          <Input placeholder=\"Vaše Jméno\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          hasFeedback\r\n          label=\"Příjmení\"\r\n          name=\"surname\"\r\n          required\r\n          rules={ UserFormHelper.requiredAlphaRules }>\r\n          <Input placeholder=\"Vaše Příjmení\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          hasFeedback\r\n          label=\"Číslo OP\"\r\n          name=\"obcanka\"\r\n          required\r\n          rules={ [ FormHelper.requiredRule ] }>\r\n          <Input placeholder=\"číslo občanského průkazu\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          hasFeedback\r\n          label=\"Číslo viza\"\r\n          name=\"visa\">\r\n          <Input placeholder=\"číslo visa\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Telefonní Číslo\"\r\n          name=\"phone\"\r\n          required>\r\n          <Input.Group compact>\r\n            <Form.Item\r\n              className=\"area-field\"\r\n              hasFeedback\r\n              name={ [ \"phone\", \"code\" ] }\r\n              rules={ UserFormHelper.phoneCodeRequiredRules }\r\n              valuePropName=\"value\">\r\n              <Input\r\n                placeholder=\"kód\"\r\n                type=\"tel\" />\r\n            </Form.Item>\r\n            <Form.Item\r\n              className=\"phone-field\"\r\n              hasFeedback\r\n              name={ [ \"phone\", \"number\" ] }\r\n              rules={ UserFormHelper.requiredNumericRules }>\r\n              <Input\r\n                placeholder=\"číslo\"\r\n                type=\"tel\" />\r\n            </Form.Item>\r\n          </Input.Group>\r\n        </Form.Item>\r\n        <Form.Item\r\n          hasFeedback\r\n          label=\"E-Mail\"\r\n          name=\"email\"\r\n          required\r\n          rules={ [ FormHelper.requiredRule ] }\r\n        >\r\n          <Input\r\n            addonBefore={ emailPrefixIcon }\r\n            placeholder=\"e-mail\"\r\n            type=\"email\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Pohlaví\"\r\n          name=\"gender\">\r\n          <Select\r\n            onChange={ (value) => { console.log(value) } }\r\n            placeholder=\"vyberte ze seznamu\">\r\n            <Select.Option value=\"man\">Muž</Select.Option>\r\n            <Select.Option value=\"woman\">Žena</Select.Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Title level={ 5 }>Trvalé bydliště</Title>\r\n        <Form.Item\r\n          label=\"Ulice\"\r\n          name={ [ \"address\", \"street\" ] }>\r\n          <Input placeholder=\"ulice\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"PSČ/Obec\">\r\n          <Input.Group compact>\r\n            <Form.Item\r\n              style={ { marginBottom: 0, width: \"50%\" } }\r\n              name={ [ \"address\", \"psc\" ] }>\r\n              <Input placeholder=\"PSČ\" />\r\n            </Form.Item>\r\n            <Form.Item\r\n              style={ { marginBottom: 0, width: \"50%\" } }\r\n              name={ [ \"address\", \"obec\" ] }>\r\n              <Input placeholder=\"Obec\" />\r\n            </Form.Item>\r\n          </Input.Group>\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Občanství\">\r\n          <Input.Group compact>\r\n            <Form.Item\r\n              style={ { width: \"50%\" } }\r\n              name={ [ \"citizenship\", \"selected\" ] }>\r\n              <Select style={ { width: \"100%\" } } placeholder=\"ze seznamu\">\r\n                <Select.Option value=\"cze\">CZE</Select.Option>\r\n                <Select.Option value=\"sk\">SK</Select.Option>\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item\r\n              style={ { width: \"50%\" } }\r\n              name={ [ \"citizenship\", \"new\" ] }>\r\n              <Input placeholder=\"ručně\" />\r\n            </Form.Item>\r\n          </Input.Group>\r\n        </Form.Item>\r\n      </Form>\r\n    </Drawer>\r\n  )\r\n}","import { Day, DayValue, Locale, utils } from \"react-modern-calendar-datepicker\";\r\n\r\nexport const CsCalendarLocale: Locale = {\r\n  months: [\r\n    'Leden',\r\n    'Únor',\r\n    'Březen',\r\n    'Duben',\r\n    'Květen',\r\n    'Červen',\r\n    'Červenec',\r\n    'Srpen',\r\n    'Září',\r\n    'Říjen',\r\n    'Listopad',\r\n    'Prosinec'\r\n  ],\r\n  weekDays: [\r\n    {\r\n      name: 'Neděle', // used for accessibility \r\n      short: 'Ned', // displayed at the top of days' rows\r\n      isWeekend: true, // is it a formal weekend or not?\r\n    },\r\n    {\r\n      name: 'Pondělí',\r\n      short: 'Pon',\r\n    },\r\n    {\r\n      name: 'Úterý',\r\n      short: 'Út',\r\n    },\r\n    {\r\n      name: 'Středa',\r\n      short: 'St',\r\n    },\r\n    {\r\n      name: 'Čtvrtek',\r\n      short: 'Čt',\r\n    },\r\n    {\r\n      name: 'Pátek',\r\n      short: 'Pá',\r\n    },\r\n    {\r\n      name: 'Sobota',\r\n      short: 'Sob',\r\n      isWeekend: true,\r\n    }\r\n  ],\r\n  weekStartingIndex: 0,\r\n  // return a { year: number, month: number, day: number } object\r\n  getToday(gregorainTodayObject) {\r\n    return gregorainTodayObject;\r\n  },\r\n  // return a native JavaScript date here\r\n  toNativeDate(date) {\r\n    return new Date(date.year, date.month - 1, date.day);\r\n  },\r\n  // return a number for date's month length\r\n  getMonthLength(date) {\r\n    return new Date(date.year, date.month, 0).getDate();\r\n  },\r\n  // return a transformed digit to your locale\r\n  transformDigit(digit) {\r\n    return digit;\r\n  },\r\n  // texts in the date picker\r\n  nextMonth: 'Příští Měsíc',\r\n  previousMonth: 'Předchozí Měsíc',\r\n  openMonthSelector: 'Otevřít Výběr Měsíce',\r\n  openYearSelector: 'Otevřít Výběr Roku',\r\n  closeMonthSelector: 'Zavřít Výběr Měsíce',\r\n  closeYearSelector: 'Zavřít Výběr Roku',\r\n  defaultPlaceholder: 'Vybrat...',\r\n  // for input range value\r\n  from: 'od',\r\n  to: 'do',\r\n  // used for input value when multi dates are selected\r\n  digitSeparator: ',',\r\n  // if your provide -2 for example, year will be 2 digited\r\n  yearLetterSkip: 0,\r\n  // is your language rtl or ltr?\r\n  isRtl: false\r\n}\r\n\r\nconst getDaysWithinMonth = (from: number, to: number, month: number, year: number): Day[] => {\r\n  const days: Day[] = []\r\n  for (let index = from; index <= to; index++) {\r\n    days.push({ year: year, month: month, day: index })\r\n  }\r\n  return days\r\n}\r\n\r\nconst getDaysWithinOverlappingMonths = (from: number, to: number, months: number[], year: number): Day[] => {\r\n  const { getMonthLength } = utils(\"en\")\r\n  const days: Day[] = []\r\n  months.forEach((month: number, index: number) => {\r\n    if (index === 0) { // first month, get days till the end of the month\r\n      getDaysWithinMonth(from, getMonthLength({ day: from, month, year }), month, year).forEach((day: Day) => days.push(day))\r\n    } else if (index === months.length - 1) { // get days of te last month\r\n      getDaysWithinMonth(1, to, month, year).forEach((day: Day) => days.push(day))\r\n    } else { // get days of the intermediary month\r\n      getDaysWithinMonth(1, getMonthLength({ day: 1, month, year }), month, year).forEach((day: Day) => days.push(day))\r\n    }\r\n  })\r\n  return days\r\n}\r\n\r\nconst getDaysWithinOverlappingYears = (from: number, to: number, fromMonth: number, toMonth: number, years: number[]) => {\r\n  const { getMonthLength } = utils(\"en\")\r\n  const days: Day[] = []\r\n  years.forEach((year: number, index: number) => {\r\n    const months: number[] = []\r\n    if (index === 0) { // get days from first year\r\n      for (let idx = fromMonth; idx <= 12; idx++) {\r\n        months.push(idx)\r\n      }\r\n      getDaysWithinOverlappingMonths(from, getMonthLength({ day: 1, month: 12, year }), months, year).forEach((day: Day) => days.push(day))\r\n    } else if (index === years.length - 1) { // get days from last year\r\n      for (let idx = 1; idx <= toMonth; idx++) {\r\n        months.push(idx)\r\n      }\r\n      if (months.length > 1) {\r\n        getDaysWithinOverlappingMonths(1, to, months, year).forEach((day: Day) => days.push(day))\r\n      } else {\r\n        getDaysWithinMonth(1, to, months[ 0 ], year).forEach((day: Day) => days.push(day))\r\n      }\r\n    } else { // get days from intermediary year\r\n      const months = Array.from(Array(13).keys())\r\n      months.shift()\r\n      getDaysWithinOverlappingMonths(1, getMonthLength({ day: 1, month: 12, year }), months, year).forEach((day: Day) => days.push(day))\r\n    }\r\n  })\r\n  return days\r\n}\r\n\r\nexport const TransformDate = {\r\n  getDaysFromRange: (from: DayValue, to: DayValue): Day[] => {\r\n    if (from === undefined || from === null || to === undefined || to === null) {\r\n      return []\r\n    }\r\n    if (to.year === from.year) {\r\n      // processing within same year\r\n      if (to.month === from.month) {\r\n        // processing within same month\r\n        return getDaysWithinMonth(from.day, to.day, from.month, from.year)\r\n      } else {\r\n        // processing within overlapping months\r\n        const months = []\r\n        for (let index = from.month; index <= to.month; index++) {\r\n          months.push(index)\r\n        }\r\n        return getDaysWithinOverlappingMonths(from.day, to.day, months, from.year)\r\n      }\r\n    } else {\r\n      // processing within overlapping years\r\n      const years = []\r\n      for (let index = from.year; index <= to.year; index++) {\r\n        years.push(index)\r\n      }\r\n      return getDaysWithinOverlappingYears(from.day, to.day, from.month, to.month, years)\r\n    }\r\n  },\r\n  toLocaleString: (day: DayValue, defaultValue: string) => {\r\n    if (day === undefined || day === null) {\r\n      return defaultValue\r\n    }\r\n    return `${ day?.day } ${ CsCalendarLocale.months[ day.month - 1 ] } ${ day.year }`\r\n  }\r\n}\r\n","import { ReserveRange } from \"../Types\"\r\nimport { Moment } from \"moment\"\r\nimport moment from \"moment\"\r\n\r\nexport const AntCalendarHelper = {\r\n  getRangePickerDates: (range: ReserveRange | undefined): Array<Moment | null> => {\r\n    if (range === undefined) {\r\n      return []\r\n    }\r\n    const fromDate = [ range.from.year, range.from.month - 1, range.from.day ]\r\n    const toDate = [ range.to.year, range.to.month - 1, range.to.day ]\r\n    if (range.from.hour !== undefined) fromDate.push(range.from.hour)\r\n    if (range.from.minute !== undefined) fromDate.push(range.from.minute)\r\n    if (range.to.hour !== undefined) toDate.push(range.to.hour)\r\n    if (range.to.minute !== undefined) toDate.push(range.to.minute)\r\n    return [\r\n      moment(fromDate),\r\n      moment(toDate)\r\n    ]\r\n  }\r\n}","import { Day } from \"react-modern-calendar-datepicker\"\r\n\r\nexport type DrawerType = \"user\"\r\nexport type ReservationType = \"Závazná Rezervace\" | \"Nezávazná Rezervace\" | \"Aktuálně Ubytování\" | \"Obydlený Termín\"\r\nexport type ReservationTypeKey = \"binding\" | \"nonbinding\" | \"accommodated\" | \"inhabited\"\r\nexport type ReserveDay = Day & { hour?: number, minute?: number }\r\n\r\nexport const Reservation = {\r\n  getType: (key: ReservationTypeKey): ReservationType => {\r\n    switch (key) {\r\n      case \"nonbinding\":\r\n        return \"Nezávazná Rezervace\"\r\n      case \"accommodated\":\r\n        return \"Aktuálně Ubytování\"\r\n      case \"inhabited\":\r\n        return \"Obydlený Termín\"\r\n      case \"binding\":\r\n      default: return \"Závazná Rezervace\"\r\n    }\r\n  }\r\n}\r\n\r\nexport interface ReserveRange {\r\n  id?: number\r\n  from: ReserveDay\r\n  to: ReserveDay\r\n  type: ReservationTypeKey\r\n}\r\n\r\nexport interface Room {\r\n  id: number\r\n  name: string\r\n  reservedRanges: ReserveRange[]\r\n}\r\n\r\ninterface Phone {\r\n  code: number\r\n  number: number\r\n}\r\n\r\ninterface Address {\r\n  obec?: string\r\n  psc?: number\r\n  street?: string\r\n}\r\n\r\ninterface Citizenship {\r\n  new?: string\r\n  selected?: string\r\n}\r\n\r\nexport interface GuestForm {\r\n  address?: Address\r\n  citizenship?: Citizenship\r\n  email: string\r\n  gender?: string\r\n  id?: number\r\n  name: string\r\n  obcanka: string\r\n  phone: Phone\r\n  surname: string\r\n  visa?: string\r\n}\r\n\r\nexport interface OptionsType {\r\n  label: string,\r\n  value: string | number\r\n}","import { FormInstance, Rule } from \"antd/lib/form\";\r\nimport { OptionsType, Reservation, ReservationTypeKey } from \"../Types\";\r\n\r\ninterface OID {\r\n  id: number\r\n}\r\n\r\ninterface IReservationFormHelper {\r\n  getRequiredRule: (message: string) => Rule\r\n  guestValidators: (form: FormInstance) => Rule[]\r\n  purposeOptions: OptionsType[]\r\n  reservationOptions: (OptionsType & { value: ReservationTypeKey })[]\r\n  roommateValidators: (form: FormInstance) => Rule[]\r\n}\r\n\r\nexport const ReservationFormHelper: IReservationFormHelper = {\r\n  purposeOptions: [\r\n    {\r\n      label: \"Z administrace\",\r\n      value: \"1\"\r\n    },\r\n    {\r\n      label: \"Z administrace\",\r\n      value: \"2\"\r\n    },\r\n    {\r\n      label: \"Z administrace\",\r\n      value: \"3\"\r\n    }\r\n  ],\r\n  reservationOptions: [\r\n    {\r\n      label: Reservation.getType(\"binding\"),\r\n      value: \"binding\"\r\n    },\r\n    {\r\n      label: Reservation.getType(\"nonbinding\"),\r\n      value: \"nonbinding\"\r\n    },\r\n    {\r\n      label: Reservation.getType(\"accommodated\"),\r\n      value: \"accommodated\"\r\n    },\r\n    {\r\n      label: Reservation.getType(\"inhabited\"),\r\n      value: \"inhabited\"\r\n    }\r\n  ],\r\n  getRequiredRule: (message: string): Rule => {\r\n    return { required: true, message }\r\n  },\r\n  guestValidators: (form: FormInstance): Rule[] => {\r\n    return [\r\n      {\r\n        message: \"host nemůže být stejný jako spolubydlící\",\r\n        validator: (_rule, value: number): Promise<void | Error> => {\r\n          const roommates: Array<OID> = form.getFieldValue(\"roommates\")\r\n          if (roommates === undefined || roommates.length === 0) {\r\n            return Promise.resolve()\r\n          }\r\n          const duplicate = roommates.filter((id: OID | undefined) => {\r\n            return id !== undefined && id.id === value\r\n          })\r\n          if (duplicate === undefined || duplicate.length === 0) {\r\n            return Promise.resolve()\r\n          }\r\n          return Promise.reject(new Error(\"Fail guest validation, equals to roommate\"))\r\n        }\r\n      },\r\n      {\r\n        message: \"vyberte hosta\",\r\n        required: true\r\n      }\r\n    ]\r\n  },\r\n  roommateValidators: (form: FormInstance): Rule[] => {\r\n    return [\r\n      {\r\n        message: \"spolubydlící je již vybrán\",\r\n        validator: (_rule, value: number): Promise<void | Error> => {\r\n          const duplicates: Array<OID> = form.getFieldValue(\"roommates\").filter((id: OID | undefined) => {\r\n            return id !== undefined && id.id === value\r\n          })\r\n          if (duplicates === undefined || duplicates.length <= 1) {\r\n            return Promise.resolve()\r\n          }\r\n          return Promise.reject(new Error(\"Fail roommate validation, duplicate value\"))\r\n        }\r\n      },\r\n      {\r\n        message: \"spolubydlící nemůže být stejný jako host\",\r\n        validator: (_rule, value: number): Promise<void | Error> => {\r\n          if (form.getFieldValue(\"guest\") !== value) {\r\n            return Promise.resolve()\r\n          }\r\n          return Promise.reject(new Error(\"Fail roommate validation, equals to guest\"))\r\n        }\r\n      }\r\n    ]\r\n  },\r\n}","import React, { useEffect } from \"react\"\r\nimport { Button, DatePicker, Form, Input, Modal, Select, Space } from \"antd\"\r\nimport locale from \"antd/es/date-picker/locale/cs_CZ\"\r\nimport { Moment } from \"moment\"\r\nimport { DrawerType, GuestForm, OptionsType, ReservationTypeKey, ReserveRange } from \"../../lib/Types\"\r\nimport { AntCalendarHelper } from \"../../lib/components/AntCalendarHelper\"\r\nimport { Store } from \"rc-field-form/lib/interface\"\r\nimport { MinusCircleOutlined, PlusOutlined } from \"@ant-design/icons\"\r\nimport \"./styles.css\"\r\nimport { useState } from \"react\"\r\nimport { ReservationFormHelper } from \"../../lib/components/ReservationFormHelper\"\r\n\r\ninterface Props {\r\n  close: () => void,\r\n  guestList: GuestForm[],\r\n  isOpen: boolean,\r\n  openDrawer: () => void,\r\n  range: ReserveRange | undefined,\r\n  setDrawerType: (type: DrawerType) => void,\r\n  updateRange: (range: ReserveRange) => void\r\n}\r\nconst { RangePicker } = DatePicker\r\n\r\nexport const ReservationModal = ({\r\n  close,\r\n  guestList,\r\n  isOpen,\r\n  openDrawer,\r\n  range,\r\n  setDrawerType,\r\n  updateRange\r\n}: Props) => {\r\n\r\n  const [ guestOptions, setGuestOptions ] = useState<OptionsType[]>(\r\n    Array.from(guestList, (guest: GuestForm): OptionsType => {\r\n      return {\r\n        label: `${ guest.name } ${ guest.surname }`,\r\n        value: guest.id === undefined ? guest.email : guest.id\r\n      }\r\n    })\r\n  )\r\n  const dateFormat = \"YYYY-MM-DD HH:mm\"\r\n  const [ form ] = Form.useForm()\r\n  const initialValues: Store & { type: ReservationTypeKey } = {\r\n    dates: AntCalendarHelper.getRangePickerDates(range),\r\n    type: range === undefined ? \"binding\" : range.type\r\n  }\r\n  const footerButtons = [\r\n    <Button\r\n      key=\"create-user\"\r\n      onClick={ () => {\r\n        setDrawerType(\"user\")\r\n        openDrawer()\r\n      } }\r\n      style={ {\r\n        float: \"left\"\r\n      } }>\r\n      Vytvořit Uživatele\r\n    </Button>,\r\n    <Button\r\n      key=\"cancel\"\r\n      onClick={ close }>\r\n      Zrušit\r\n    </Button>,\r\n    <Button\r\n      key=\"ok\"\r\n      onClick={ () => {\r\n        form.validateFields()\r\n          .then(submitForm)\r\n          .catch((error: string) => {\r\n            console.log('Oops: ', error)\r\n          })\r\n      } }>\r\n      OK\r\n    </Button>\r\n  ]\r\n  const submitForm = (): void => {\r\n    const [ from, to ]: Array<Moment> = form.getFieldValue(\"dates\")\r\n    const newRange: ReserveRange = {\r\n      from: {\r\n        year: from.year(),\r\n        month: from.month() + 1,\r\n        day: from.date(),\r\n        hour: from.hour(),\r\n        minute: from.minute()\r\n      },\r\n      to: {\r\n        year: to.year(),\r\n        month: to.month() + 1,\r\n        day: to.date(),\r\n        hour: to.hour(),\r\n        minute: to.minute()\r\n      },\r\n      type: form.getFieldValue(\"type\")\r\n    }\r\n    if (range !== undefined) newRange.id = range.id\r\n    updateRange(newRange)\r\n    close()\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (isOpen === true) {\r\n      form.resetFields()\r\n    }\r\n  }, [ form, isOpen ])\r\n\r\n  useEffect(() => {\r\n    setGuestOptions(Array.from(guestList, (guest: GuestForm): OptionsType => {\r\n      return {\r\n        label: `${ guest.name } ${ guest.surname }`,\r\n        value: guest.id === undefined ? guest.email : guest.id\r\n      }\r\n    }))\r\n  }, [ guestList ])\r\n\r\n  return (\r\n    <Modal\r\n      onCancel={ close }\r\n      title=\"Rezervační formulář\"\r\n      visible={ isOpen }\r\n      footer={ footerButtons }>\r\n      <Form\r\n        form={ form }\r\n        initialValues={ initialValues }\r\n        layout=\"vertical\">\r\n        <Form.Item\r\n          label=\"Datum Rezervace\"\r\n          name=\"dates\">\r\n          <RangePicker\r\n            format={ dateFormat }\r\n            locale={ locale }\r\n            showTime />\r\n        </Form.Item>\r\n        <Form.Item\r\n          hasFeedback\r\n          label=\"Host\"\r\n          name=\"guest\"\r\n          required\r\n          rules={ ReservationFormHelper.guestValidators(form) }>\r\n          <Select options={ guestOptions } />\r\n        </Form.Item>\r\n        <Form.List name=\"roommates\">\r\n          { (fields, { add, remove }) => (\r\n            <>\r\n              { fields.map(({ key, name, fieldKey, ...restField }) => (\r\n                <Space\r\n                  align=\"baseline\"\r\n                  className=\"roommate-list\"\r\n                  key={ key }>\r\n                  <Form.Item\r\n                    hasFeedback\r\n                    { ...restField }\r\n                    fieldKey={ [ fieldKey, 'first' ] }\r\n                    name={ [ name, \"id\" ] }\r\n                    rules={ ReservationFormHelper.roommateValidators(form) }>\r\n                    <Select options={ guestOptions } />\r\n                  </Form.Item>\r\n                  <MinusCircleOutlined onClick={ () => {\r\n                    remove(name)\r\n                    form.validateFields()\r\n                  } } />\r\n                </Space>\r\n              )) }\r\n              <Form.Item>\r\n                <Button\r\n                  disabled={ fields.length >= guestList.length }\r\n                  type=\"dashed\"\r\n                  onClick={ () => add() }\r\n                  block\r\n                  icon={ <PlusOutlined /> }>\r\n                  Přidat spolubydlícího\r\n                </Button>\r\n              </Form.Item>\r\n            </>\r\n          ) }\r\n        </Form.List>\r\n        <Form.Item\r\n          hasFeedback\r\n          label=\"Typ Rezervace\"\r\n          name=\"type\"\r\n          required\r\n          rules={ [ ReservationFormHelper.getRequiredRule(\"vyberte typ rezervace\") ] }>\r\n          <Select\r\n            options={ ReservationFormHelper.reservationOptions } />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Účel pobytu\"\r\n          name=\"purpose\"\r\n          required\r\n          rules={ [ ReservationFormHelper.getRequiredRule(\"vyberte účel pobytu\") ] }>\r\n          <Select\r\n            options={ ReservationFormHelper.purposeOptions } />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Poznámky\"\r\n          name=\"notes\">\r\n          <Input.TextArea\r\n            placeholder=\"zadejte text\"\r\n            allowClear />\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { Col } from 'antd'\r\nimport Title from 'antd/lib/typography/Title'\r\nimport { Calendar, Day, DayValue } from 'react-modern-calendar-datepicker'\r\nimport { CsCalendarLocale, TransformDate } from '../../lib/components/CsCalendarLocale'\r\nimport './styles.css'\r\nimport { defaultArrivalHour, defaultDepartureHour } from '../../lib/Constants'\r\nimport { ReservationModal } from '../ReservationModal'\r\nimport { DrawerType, GuestForm, ReservationTypeKey, ReserveRange, Room } from '../../lib/Types'\r\n\r\ninterface Props {\r\n  guestList: GuestForm[],\r\n  openDrawer: () => void,\r\n  room: Room\r\n  setDrawerType: (type: DrawerType) => void\r\n}\r\ntype CustomDayClassNameItem = Day & { className: string, rangeId?: number };\r\n\r\nexport const ReserveCalendar = ({\r\n  guestList,\r\n  openDrawer,\r\n  room,\r\n  setDrawerType\r\n}: Props) => {\r\n  const [ reservedRange, setReservedRange ] = useState<ReserveRange | undefined>()\r\n  const [ modalOpen, setModalOpen ] = useState<boolean>(false)\r\n  const [ reservedDays, setReservedDays ] = useState<CustomDayClassNameItem[]>([])\r\n\r\n  const getDayClassName = (type: ReservationTypeKey) => {\r\n    switch (type) {\r\n      case \"binding\":\r\n        return \"greenDay\"\r\n      case \"nonbinding\":\r\n        return \"yellowDay\"\r\n      case \"accommodated\":\r\n        return \"purpleDay\"\r\n      case \"inhabited\":\r\n        return \"orangeDay\"\r\n      default: return \"greenDay\"\r\n    }\r\n  }\r\n  const updateReservedRange = (newRange: ReserveRange): void => {\r\n    room.reservedRanges = [\r\n      ...room.reservedRanges.filter((range: ReserveRange) => {\r\n        return range.id !== undefined && range.id !== newRange.id\r\n      }),\r\n      newRange\r\n    ]\r\n  }\r\n\r\n  useEffect(() => {\r\n    const reservedDays: CustomDayClassNameItem[] = []\r\n    room.reservedRanges.forEach((range: ReserveRange) => {\r\n      TransformDate.getDaysFromRange(range.from, range.to).forEach((day: Day) => {\r\n        reservedDays.push({ className: getDayClassName(range.type), rangeId: range.id, ...day })\r\n      })\r\n    })\r\n    setReservedDays(reservedDays)\r\n  }, [ room.reservedRanges ])\r\n\r\n  const setNewReservationRange = (dayValue: DayValue): void => {\r\n    if (dayValue !== undefined && dayValue !== null) {\r\n      setReservedRange({\r\n        from: { ...dayValue, hour: defaultArrivalHour, minute: 0 },\r\n        to: { ...dayValue, day: dayValue.day + 1, hour: defaultDepartureHour, minute: 0 },\r\n        type: \"binding\"\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Col\r\n        span={ 12 }\r\n        className=\"home__listing\">\r\n        <Title level={ 4 } className=\"home__listings-title\"> { room.name }</Title>\r\n        <div className=\"home__calendar\">\r\n          <Calendar\r\n            onChange={ (dayValue: DayValue) => {\r\n              const rangeDay = reservedDays.find((day: CustomDayClassNameItem) => {\r\n                return day.year === dayValue?.year\r\n                  && day.month === dayValue.month\r\n                  && day.day === dayValue.day\r\n              })\r\n              if (rangeDay === undefined) {\r\n                setNewReservationRange(dayValue)\r\n              } else {\r\n                setReservedRange(room.reservedRanges.find(range => range.id === rangeDay.rangeId))\r\n              }\r\n              setModalOpen(true)\r\n            } }\r\n            locale={ CsCalendarLocale }\r\n            customDaysClassName={ reservedDays }\r\n            shouldHighlightWeekends />\r\n        </div>\r\n      </Col>\r\n      <ReservationModal\r\n        close={ () => { setModalOpen(false) } }\r\n        guestList={ guestList }\r\n        isOpen={ modalOpen }\r\n        openDrawer={ openDrawer }\r\n        range={ reservedRange }\r\n        setDrawerType={ setDrawerType }\r\n        updateRange={ updateReservedRange } />\r\n    </>\r\n  )\r\n}","export const defaultArrivalHour: number = 14\r\nexport const defaultDepartureHour: number = 10","import { GuestForm, Room } from \"./lib/Types\";\r\n\r\nexport const rooms: Room[] = [\r\n  {\r\n    id: 1,\r\n    name: \"Apartman 2 + 2\",\r\n    reservedRanges: [\r\n      {\r\n        id: 1,\r\n        from: {\r\n          year: 2021,\r\n          month: 7,\r\n          day: 1,\r\n          hour: 14,\r\n          minute: 0\r\n        },\r\n        to: {\r\n          year: 2021,\r\n          month: 7,\r\n          day: 5\r\n        },\r\n        type: \"inhabited\"\r\n      },\r\n      {\r\n        id: 2,\r\n        from: {\r\n          year: 2021,\r\n          month: 7,\r\n          day: 14,\r\n          hour: 15,\r\n          minute: 30\r\n        },\r\n        to: {\r\n          year: 2021,\r\n          month: 7,\r\n          day: 18,\r\n          hour: 14,\r\n          minute: 15\r\n        },\r\n        type: \"accommodated\"\r\n      },\r\n      {\r\n        id: 3,\r\n        from: {\r\n          year: 2021,\r\n          month: 7,\r\n          day: 28,\r\n          hour: 14,\r\n          minute: 0\r\n        },\r\n        to: {\r\n          year: 2021,\r\n          month: 7,\r\n          day: 30,\r\n          hour: 14,\r\n          minute: 30\r\n        },\r\n        type: \"binding\"\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Apartman 2 + 4\",\r\n    reservedRanges: [\r\n      {\r\n        id: 4,\r\n        from: {\r\n          year: 2021,\r\n          month: 7,\r\n          day: 7,\r\n          hour: 18,\r\n          minute: 15\r\n        },\r\n        to: {\r\n          year: 2021,\r\n          month: 7,\r\n          day: 11,\r\n          hour: 14,\r\n          minute: 0\r\n        },\r\n        type: \"binding\"\r\n      },\r\n      {\r\n        id: 5,\r\n        from: {\r\n          year: 2021,\r\n          month: 7,\r\n          day: 23,\r\n          hour: 10,\r\n          minute: 0\r\n        },\r\n        to: {\r\n          year: 2021,\r\n          month: 7,\r\n          day: 25,\r\n          hour: 14,\r\n          minute: 0\r\n        },\r\n        type: \"nonbinding\"\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\nexport const guests: GuestForm[] = [\r\n  {\r\n    address: {\r\n      obec: \"Praha 8\",\r\n      psc: 18200,\r\n      street: \"Černého\"\r\n    },\r\n    citizenship: { selected: \"RU\" },\r\n    email: \"oyapparov@gmail.com\",\r\n    gender: \"male\",\r\n    id: 1,\r\n    name: \"Oleg\",\r\n    obcanka: \"12345/8927\",\r\n    phone: {\r\n      code: 420,\r\n      number: 12346789\r\n    },\r\n    surname: \"Yapparov\",\r\n    visa: \"123\"\r\n  },\r\n  // {\r\n  //   address: {\r\n  //     obec: \"Praha 8\",\r\n  //     psc: 18200,\r\n  //     street: \"Černého\"\r\n  //   },\r\n  //   citizenship: { selected: \"CZE\" },\r\n  //   email: \"a.ambrozova@gmail.com\",\r\n  //   gender: \"female\",\r\n  //   id: 2,\r\n  //   name: \"Alice\",\r\n  //   obcanka: \"12345/8927\",\r\n  //   phone: {\r\n  //     code: 420,\r\n  //     number: 12346789\r\n  //   },\r\n  //   surname: \"Ambrozova\",\r\n  //   visa: \"123\"\r\n  // },\r\n  {\r\n    address: {\r\n      obec: \"Praha 8\",\r\n      psc: 18200,\r\n      street: \"Černého\"\r\n    },\r\n    citizenship: { selected: \"CZE\" },\r\n    email: \"syapparov@gmail.com\",\r\n    gender: \"male\",\r\n    id: 3,\r\n    name: \"Štěpán\",\r\n    obcanka: \"12345/8927\",\r\n    phone: {\r\n      code: 420,\r\n      number: 12346789\r\n    },\r\n    surname: \"Yapparov\",\r\n    visa: \"123\"\r\n  },\r\n  {\r\n    address: {\r\n      obec: \"Praha 8\",\r\n      psc: 18200,\r\n      street: \"Černého\"\r\n    },\r\n    citizenship: { selected: \"CZE\" },\r\n    email: \"a.yapik@gmail.com\",\r\n    gender: \"female\",\r\n    id: 4,\r\n    name: \"Adéla\",\r\n    obcanka: \"12345/8927\",\r\n    phone: {\r\n      code: 420,\r\n      number: 12346789\r\n    },\r\n    surname: \"Yapparov\",\r\n    visa: \"123\"\r\n  }\r\n]","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch\n} from 'react-router-dom'\nimport './index.css'\nimport { Affix, Layout } from 'antd'\nimport { ApolloClient, ApolloProvider, InMemoryCache } from '@apollo/client'\nimport { AppHeader, Home, Overview } from './sections'\nimport moment from 'moment'\nimport 'moment/locale/cs'\n\nmoment.locale(\"cs\")\n\nconst client = new ApolloClient({\n  uri: \"/api\",\n  cache: new InMemoryCache()\n})\n\nReactDOM.render(\n  <ApolloProvider client={ client }>\n    <Router>\n      <Layout id=\"app\">\n        <Affix offsetTop={ 0 } className=\"app__affix-header\">\n          <AppHeader />\n        </Affix>\n        <Switch>\n          <Route exact path=\"/\" component={ Home } />\n          <Route exact path=\"/prehled\" component={ Overview } />\n        </Switch>\n      </Layout>\n    </Router>\n  </ApolloProvider>,\n  document.getElementById('root')\n);\n","import { Content } from 'antd/lib/layout/layout'\r\nimport Title from 'antd/lib/typography/Title'\r\nimport \"react-modern-calendar-datepicker/lib/DatePicker.css\"\r\nimport './styles.css'\r\nimport { ReserveCalendar } from '../ReserveCalendar'\r\nimport { Row } from 'antd'\r\nimport { Link } from 'react-router-dom'\r\nimport { guests, rooms } from '../../seed'\r\nimport { useState } from 'react'\r\nimport { UserDrawer } from '../UserDrawer'\r\nimport { DrawerType, GuestForm } from '../../lib/Types'\r\n\r\nexport const Home = () => {\r\n\r\n  const [ drawerType, setDrawerType ] = useState<DrawerType>()\r\n  const [ drawerVisible, setDrawerVisible ] = useState<boolean>(false)\r\n  const [ guestList, setGuestList ] = useState<GuestForm[]>(guests)\r\n  const AppDrawer = () => {\r\n    if (drawerType === \"user\") {\r\n      return (\r\n        <UserDrawer\r\n          setGuest={ (guestForm: GuestForm) => {\r\n            setGuestList([\r\n              ...guestList.filter((guest: GuestForm) => guest.id !== guestForm.id),\r\n              guestForm\r\n            ])\r\n          } }\r\n          setVisible={ setDrawerVisible }\r\n          visible={ drawerVisible }\r\n        />\r\n      )\r\n    }\r\n    return null\r\n  }\r\n  const openDrawer = () => setDrawerVisible(true)\r\n\r\n  return (\r\n    <Content className=\"home\">\r\n      <div className=\"home__listings\">\r\n        <Title level={ 3 } className=\"home__listings-title\">\r\n          Rezervace / Obsazenost\r\n        </Title>\r\n        <Row gutter={ 12 }>\r\n          {\r\n            rooms.map((room, index) => {\r\n              return (\r\n                <ReserveCalendar\r\n                  guestList={ guestList }\r\n                  key={ index }\r\n                  openDrawer={ openDrawer }\r\n                  room={ room }\r\n                  setDrawerType={ setDrawerType } />\r\n              )\r\n            })\r\n          }\r\n        </Row>\r\n      </div>\r\n      <AppDrawer />\r\n      <Title level={ 3 }>\r\n        <Link to=\"/prehled\">Přehled</Link>\r\n      </Title>\r\n    </Content >\r\n  );\r\n}","import { ApexOptions } from \"apexcharts\"\r\nimport React, { useEffect, useState } from \"react\"\r\nimport ReactApexChart from \"react-apexcharts\"\r\n\r\n// https://apexcharts.com/react-chart-demos/timeline-charts/multiple-series-group-rows/\r\nexport const Overview = () => {\r\n\r\n  const [ series, setSeries ] = useState<any[]>([])\r\n  const getColor = (reservationType: string): string => {\r\n    switch (reservationType) {\r\n      case \"Nezávazná Rezervace\":\r\n        return \"#e4e724\"\r\n      case \"Aktuálně Ubytování\":\r\n        return \"#9c88ff\"\r\n      case \"Obydlený Termín\":\r\n        return \"#db913c\"\r\n      case \"Závazná Rezervace\":\r\n      default: return \"#0eca2d\"\r\n    }\r\n  }\r\n  const getTimePadded = (hours: number, minutes: number) => {\r\n    let time = ''\r\n    time += (hours < 10 ? '0' : '') + hours\r\n    time += ':'\r\n    time += (minutes < 10 ? '0' : '') + minutes\r\n    return time\r\n  }\r\n  const options: ApexOptions = {\r\n    chart: {\r\n      height: 350,\r\n      locales: [ {\r\n        name: \"en\",\r\n        options: {\r\n          months: [ \"Leden\", \"Únor\", \"Březen\", \"Duben\", \"Květen\", \"Červen\", \"Červenec\", \"Srpen\", \"Září\", \"Říjen\", \"Listopad\", \"Prosinec\" ],\r\n          shortMonths: [ \"Leden\", \"Únor\", \"Březen\", \"Duben\", \"Květen\", \"Červen\", \"Červenec\", \"Srpen\", \"Září\", \"Říjen\", \"Listopad\", \"Prosinec\" ],\r\n          toolbar: {\r\n            download: \"Stáhnout\",\r\n            pan: \"Panoráma\",\r\n            reset: \"Resetovat Přiblížení\",\r\n            selectionZoom: \"Zvětšení Výběru\",\r\n            zoomIn: \"Přiblížit\",\r\n            zoomOut: \"Oddálit\"\r\n          }\r\n        }\r\n      } ],\r\n      type: \"rangeBar\" as const\r\n    },\r\n    plotOptions: {\r\n      bar: {\r\n        horizontal: true,\r\n        barHeight: '50%',\r\n        rangeBarGroupRows: true\r\n      }\r\n    },\r\n    colors: [ ({ seriesIndex, w }: { seriesIndex: any, w: any }) => {\r\n      return getColor(w.config.series[ seriesIndex ].name)\r\n    }\r\n    ],\r\n    fill: {\r\n      type: 'solid'\r\n    },\r\n    xaxis: {\r\n      type: 'datetime' as const\r\n    },\r\n    legend: {\r\n      customLegendItems: [\r\n        \"Závazná Rezervace\",\r\n        \"Nezávazná Rezervace\",\r\n        \"Aktuálně Ubytování\",\r\n        \"Obydlený Termín\"\r\n      ],\r\n      markers: {\r\n        width: 12,\r\n        height: 12,\r\n        strokeWidth: 0,\r\n        strokeColor: '#fff',\r\n        fillColors: [\r\n          \"#0eca2d\",\r\n          \"#e4e724\",\r\n          \"#9c88ff\",\r\n          \"#db913c\"\r\n        ],\r\n        radius: 12,\r\n        customHTML: undefined,\r\n        onClick: undefined,\r\n        offsetX: 0,\r\n        offsetY: 0\r\n      },\r\n      position: 'top' as const\r\n    },\r\n    tooltip: {\r\n      custom: (options) => {\r\n        const tooltipValues = options.ctx.rangeBar.getTooltipValues(options)\r\n        const seriesName = tooltipValues.seriesName.trim().substring(0, tooltipValues.seriesName.trim().length - 1)\r\n        const reservationName = tooltipValues.ylabel.trim().substring(0, tooltipValues.ylabel.trim().length - 1)\r\n        const from = new Date(tooltipValues.start)\r\n        const to = new Date(tooltipValues.end)\r\n        return '<div class=\"apexcharts-tooltip-rangebar\"><div>' +\r\n          `<span class=\"series-name\" style=\"font-weight: bold\">${ reservationName }</span>` +\r\n          '</div><div>' +\r\n          `<span class=\"category\" style=\"color:${ getColor(seriesName) }\">${ tooltipValues.seriesName }</span>` +\r\n          `<span class=\"value start-value\" style=\"font-weight: bold\">${ tooltipValues.startVal } ${ getTimePadded(from.getHours(), from.getMinutes()) }</span>` +\r\n          '<span class=\"separator\"> - </span>' +\r\n          `<span class=\"value end-value\" style=\"font-weight: bold\">${ tooltipValues.endVal } ${ getTimePadded(to.getHours(), to.getMinutes()) }</span>` +\r\n          '</div></div></div>'\r\n      }\r\n    }\r\n  }\r\n\r\n  // For DEV only\r\n  useEffect(() => {\r\n    setSeries([\r\n      {\r\n        name: 'Závazná Rezervace',\r\n        data: [\r\n          {\r\n            x: 'Apartman 2 + 2',\r\n            y: [\r\n              new Date(2021, 5, 1, 14, 0).getTime(),\r\n              new Date(2021, 5, 5, 10, 0).getTime()\r\n            ]\r\n          },\r\n        ]\r\n      },\r\n      {\r\n        name: 'Závazná Rezervace',\r\n        data: [\r\n          {\r\n            x: 'Apartman 2 + 2',\r\n            y: [\r\n              new Date(2021, 5, 7, 14, 0).getTime(),\r\n              new Date(2021, 5, 12, 10, 0).getTime()\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        name: 'Aktuálně Ubytování',\r\n        data: [\r\n          {\r\n            x: 'Apartman 2 + 4',\r\n            y: [\r\n              new Date(2021, 5, 3, 14, 0).getTime(),\r\n              new Date(2021, 5, 6, 10, 0).getTime()\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        name: 'Obydlený Termín',\r\n        data: [\r\n          {\r\n            x: 'Apartman 2 + 4',\r\n            y: [\r\n              new Date(2021, 5, 11, 14, 0).getTime(),\r\n              new Date(2021, 5, 15, 10, 0).getTime()\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        name: 'Nezávazná Rezervace',\r\n        data: [\r\n          {\r\n            x: 'Apartman 4 + 4',\r\n            y: [\r\n              new Date(2021, 5, 5, 14, 0).getTime(),\r\n              new Date(2021, 5, 10, 10, 0).getTime()\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n    ])\r\n  }, [])\r\n  // -- ! -- //\r\n\r\n  return (\r\n    <div id=\"chart\">\r\n      <ReactApexChart series={ series } options={ options } type=\"rangeBar\" height={ 350 }></ReactApexChart>\r\n    </div>\r\n  )\r\n}"],"sourceRoot":""}