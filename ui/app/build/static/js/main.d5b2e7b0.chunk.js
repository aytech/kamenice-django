(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{216:function(e,n,t){},217:function(e,n,t){},291:function(e,n,t){},292:function(e,n,t){},389:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t(29),o=t.n(r),i=t(88),c=t(28),s=(t(216),t(405)),d=t(411),u=t(406),l=t(408),h=t(414),m=t(49),f=t(201),b=t.n(f),j=t(118),v=(t(217),t.p+"static/media/mill.1f872c17.svg"),y=t(9),p=Object(c.f)((function(e){e.location,e.history;var n=Object(a.useState)(""),t=Object(m.a)(n,2),r=t[0],o=t[1];return Object(y.jsxs)(j.Header,{className:"app-header",children:[Object(y.jsxs)("div",{className:"app-header__logo-search-section",children:[Object(y.jsx)("div",{className:"app-header__logo",children:Object(y.jsx)(i.b,{to:"/",children:Object(y.jsx)("img",{src:v,alt:"Kamenice logo"})})}),Object(y.jsx)("div",{className:"app-header__search-input",children:Object(y.jsx)(b.a,{placeholder:"",enterButton:!0,onChange:function(e){return o(e.target.value)},onSearch:function(){},value:r})})]}),Object(y.jsx)("div",{className:"app-header__menu-section"})]})})),g=t(104),O=t.n(g),x=(t(290),t(291),t(210)),z=t(399),k=t(100),w={months:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],weekDays:[{name:"Ned\u011ble",short:"Ned",isWeekend:!0},{name:"Pond\u011bl\xed",short:"Pon"},{name:"\xdater\xfd",short:"\xdat"},{name:"St\u0159eda",short:"St"},{name:"\u010ctvrtek",short:"\u010ct"},{name:"P\xe1tek",short:"P\xe1"},{name:"Sobota",short:"Sob",isWeekend:!0}],weekStartingIndex:0,getToday:function(e){return e},toNativeDate:function(e){return new Date(e.year,e.month-1,e.day)},getMonthLength:function(e){return new Date(e.year,e.month,0).getDate()},transformDigit:function(e){return e},nextMonth:"P\u0159\xed\u0161t\xed M\u011bs\xedc",previousMonth:"P\u0159edchoz\xed M\u011bs\xedc",openMonthSelector:"Otev\u0159\xedt V\xfdb\u011br M\u011bs\xedce",openYearSelector:"Otev\u0159\xedt V\xfdb\u011br Roku",closeMonthSelector:"Zav\u0159\xedt V\xfdb\u011br M\u011bs\xedce",closeYearSelector:"Zav\u0159\xedt V\xfdb\u011br Roku",defaultPlaceholder:"Vybrat...",from:"od",to:"do",digitSeparator:",",yearLetterSkip:0,isRtl:!1},D=function(e,n,t,a){for(var r=[],o=e;o<=n;o++)r.push({year:a,month:t,day:o});return r},R=function(e,n,t,a){var r=Object(k.utils)("en").getMonthLength,o=[];return t.forEach((function(i,c){0===c?D(e,r({day:e,month:i,year:a}),i,a).forEach((function(e){return o.push(e)})):c===t.length-1?D(1,n,i,a).forEach((function(e){return o.push(e)})):D(1,r({day:1,month:i,year:a}),i,a).forEach((function(e){return o.push(e)}))})),o},N=function(e,n){if(void 0===e||null===e||void 0===n||null===n)return[];if(n.year===e.year){if(n.month===e.month)return D(e.day,n.day,e.month,e.year);for(var t=[],a=e.month;a<=n.month;a++)t.push(a);return R(e.day,n.day,t,e.year)}for(var r=[],o=e.year;o<=n.year;o++)r.push(o);return function(e,n,t,a,r){var o=Object(k.utils)("en").getMonthLength,i=[];return r.forEach((function(c,s){var d=[];if(0===s){for(var u=t;u<=12;u++)d.push(u);R(e,o({day:1,month:12,year:c}),d,c).forEach((function(e){return i.push(e)}))}else if(s===r.length-1){for(var l=1;l<=a;l++)d.push(l);d.length>1?R(1,n,d,c).forEach((function(e){return i.push(e)})):D(1,n,d[0],c).forEach((function(e){return i.push(e)}))}else{var h=Array.from(Array(13).keys());h.shift(),R(1,o({day:1,month:12,year:c}),h,c).forEach((function(e){return i.push(e)}))}})),i}(e.day,n.day,e.month,n.month,r)},S=(t(292),t(159)),_=t(410),T=t(409),C=t(52),M=t(407),E=t(398),I=t(412),P=t(161),A=function(e){switch(e){case"nonbinding":return"Nez\xe1vazn\xe1 Rezervace";case"accommodated":return"Aktu\xe1ln\u011b Ubytov\xe1n\xed";case"inhabited":return"Obydlen\xfd Term\xedn";case"binding":default:return"Z\xe1vazn\xe1 Rezervace"}},Z=t(415),L=t(32),V=t.n(L),B=S.a.RangePicker,H=function(e){var n=e.close,t=e.isOpen,r=e.range,o=e.updateRange,i=Object(a.useState)(),c=Object(m.a)(i,2),s=c[0],d=c[1],u=Object(a.useState)(),l=Object(m.a)(u,2),h=l[0],f=l[1],b=Object(a.useState)("binding"),j=Object(m.a)(b,2),v=j[0],p=j[1],g="YYYY-MM-DD",O="HH:mm";Object(a.useEffect)((function(){void 0!==r&&(d(r.from),f(r.to))}),[r]);var x=function(e){if(void 0!==e&&void 0!==e.hour&&void 0!==e.minute)return V()([e.year,e.month,e.day,e.hour,e.minute])},z=Object(y.jsxs)(_.a,{children:[Object(y.jsx)(_.a.Item,{onClick:function(){p("binding")},children:A("binding")},A("binding")),Object(y.jsx)(_.a.Item,{onClick:function(){p("nonbinding")},children:A("nonbinding")},A("nonbinding")),Object(y.jsx)(_.a.Item,{onClick:function(){p("accommodated")},children:A("accommodated")},A("accommodated")),Object(y.jsx)(_.a.Item,{onClick:function(){p("inhabited")},children:A("inhabited")},A("inhabited"))]});return Object(y.jsx)(T.a,{onCancel:n,title:"Rezerva\u010dn\xed formul\xe1\u0159",visible:t,footer:[Object(y.jsx)(C.a,{onClick:n,children:"Zru\u0161it"},"cancel"),Object(y.jsx)(C.a,{disabled:void 0===s||void 0===h,onClick:function(){if(void 0!==s&&void 0!==h){var e={from:s,to:h,type:v};void 0!==r&&(e.id=r.id),o(e)}},children:"OK"},"ok")],children:Object(y.jsxs)(M.a,{layout:"vertical",children:[Object(y.jsx)(M.a.Item,{label:"Datum Rezervace",children:function(){var e,n;return void 0!==r?(e=V()([r.from.year,r.from.month-1,r.from.day]),n=V()([r.to.year,r.to.month-1,r.to.day])):(e=V()(),n=V()()),Object(y.jsx)(B,{defaultValue:[V()(e,g),V()(n,g)],format:g,locale:P.a,onChange:function(e){null!==e&&null!==e[0]&&null!==e[1]&&(d({year:e[0].year(),month:e[0].month()+1,day:e[0].date()}),f({year:e[1].year(),month:e[1].month()+1,day:e[1].date()}))}})}()}),Object(y.jsx)(M.a.Item,{label:"\u010cas p\u0159\xedjezdu",children:Object(y.jsx)(E.a,{value:x(s),format:O,locale:P.a,onChange:function(e){if(null!==e&&void 0!==s){var n=s;n.hour=e.hour(),n.minute=e.minute(),d(n)}}})}),Object(y.jsx)(M.a.Item,{label:"\u010cas odjezdu",children:Object(y.jsx)(E.a,{value:x(h),format:O,onChange:function(e){if(null!==e&&void 0!==h){var n=h;n.hour=e.hour(),n.minute=e.minute(),f(n)}}})}),Object(y.jsx)(M.a.Item,{label:"Typ Rezervace",children:Object(y.jsx)(I.a,{overlay:z,trigger:["click"],children:Object(y.jsxs)(C.a,{type:"link",children:[A(v)," ",Object(y.jsx)(Z.a,{})]})})})]})})},Y=function(e){var n=e.room,t=Object(a.useState)(),r=Object(m.a)(t,2),o=r[0],i=r[1],c=Object(a.useState)(!1),s=Object(m.a)(c,2),d=s[0],u=s[1],l=Object(a.useState)([]),h=Object(m.a)(l,2),f=h[0],b=h[1],j=function(e){switch(e){case"binding":return"greenDay";case"nonbinding":return"yellowDay";case"accommodated":return"purpleDay";case"inhabited":return"orangeDay";default:return"greenDay"}};return Object(a.useEffect)((function(){var e=[];n.reservedRanges.forEach((function(n){N(n.from,n.to).forEach((function(t){e.push(Object(x.a)({className:j(n.type),rangeId:n.id},t))}))})),b(e)}),[n.reservedRanges]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(z.a,{span:12,className:"home__listing",children:[Object(y.jsxs)(O.a,{level:4,className:"home__listings-title",children:[" ",n.name]}),Object(y.jsx)("div",{className:"home__calendar",children:Object(y.jsx)(k.Calendar,{onChange:function(e){var t=f.find((function(n){return n.year===(null===e||void 0===e?void 0:e.year)&&n.month===e.month&&n.day===e.day}));void 0!==t&&i(n.reservedRanges.find((function(e){return e.id===t.rangeId}))),u(!0)},locale:w,customDaysClassName:f,shouldHighlightWeekends:!0})})]}),Object(y.jsx)(H,{close:function(){u(!1)},isOpen:d,range:o,updateRange:function(e){var t=n.reservedRanges.filter((function(n){return n.id!==e.id}));console.log("Range in input: ",e),console.log("Ranges not specified in input: ",t)}})]})},K=t(400),U=[{id:1,name:"Apartman 2 + 2",reservedRanges:[{id:1,from:{year:2021,month:6,day:1,hour:14,minute:0},to:{year:2021,month:6,day:5},type:"inhabited"},{id:2,from:{year:2021,month:6,day:14,hour:15,minute:30},to:{year:2021,month:6,day:18,hour:14,minute:15},type:"accommodated"},{id:3,from:{year:2021,month:6,day:28,hour:14,minute:0},to:{year:2021,month:6,day:30,hour:14,minute:30},type:"binding"}]},{id:2,name:"Apartman 2 + 4",reservedRanges:[{id:4,from:{year:2021,month:6,day:7,hour:18,minute:15},to:{year:2021,month:6,day:11,hour:14,minute:0},type:"binding"},{id:5,from:{year:2021,month:6,day:23,hour:10,minute:0},to:{year:2021,month:6,day:25,hour:14,minute:0},type:"nonbinding"}]}],W=t(204),J=t.n(W);t(387);V.a.locale("cs");var F=new u.a({uri:"/api",cache:new l.a});o.a.render(Object(y.jsx)(h.a,{client:F,children:Object(y.jsx)(i.a,{children:Object(y.jsxs)(s.a,{id:"app",children:[Object(y.jsx)(d.a,{offsetTop:0,className:"app__affix-header",children:Object(y.jsx)(p,{})}),Object(y.jsxs)(c.c,{children:[Object(y.jsx)(c.a,{exact:!0,path:"/",component:function(){return Object(y.jsxs)(j.Content,{className:"home",children:[Object(y.jsxs)("div",{className:"home__listings",children:[Object(y.jsx)(O.a,{level:3,className:"home__listings-title",children:"Rezervace / Obsazenost"}),Object(y.jsx)(K.a,{gutter:12,children:U.map((function(e,n){return Object(y.jsx)(Y,{room:e},n)}))})]}),Object(y.jsx)(O.a,{level:3,children:Object(y.jsx)(i.b,{to:"/prehled",children:"P\u0159ehled"})})]})}}),Object(y.jsx)(c.a,{exact:!0,path:"/prehled",component:function(){var e=Object(a.useState)([]),n=Object(m.a)(e,2),t=n[0],r=n[1],o=function(e){switch(e){case"Nez\xe1vazn\xe1 Rezervace":return"#e4e724";case"Aktu\xe1ln\u011b Ubytov\xe1n\xed":return"#9c88ff";case"Obydlen\xfd Term\xedn":return"#db913c";case"Z\xe1vazn\xe1 Rezervace":default:return"#0eca2d"}},i=function(e,n){var t="";return t+=(e<10?"0":"")+e,t+=":",t+=(n<10?"0":"")+n},c={chart:{height:350,locales:[{name:"en",options:{months:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],shortMonths:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],toolbar:{download:"St\xe1hnout",pan:"Panor\xe1ma",reset:"Resetovat P\u0159ibl\xed\u017een\xed",selectionZoom:"Zv\u011bt\u0161en\xed V\xfdb\u011bru",zoomIn:"P\u0159ibl\xed\u017eit",zoomOut:"Odd\xe1lit"}}}],type:"rangeBar"},plotOptions:{bar:{horizontal:!0,barHeight:"50%",rangeBarGroupRows:!0}},colors:[function(e){var n=e.seriesIndex,t=e.w;return o(t.config.series[n].name)}],fill:{type:"solid"},xaxis:{type:"datetime"},legend:{customLegendItems:["Z\xe1vazn\xe1 Rezervace","Nez\xe1vazn\xe1 Rezervace","Aktu\xe1ln\u011b Ubytov\xe1n\xed","Obydlen\xfd Term\xedn"],markers:{width:12,height:12,strokeWidth:0,strokeColor:"#fff",fillColors:["#0eca2d","#e4e724","#9c88ff","#db913c"],radius:12,customHTML:void 0,onClick:void 0,offsetX:0,offsetY:0},position:"top"},tooltip:{custom:function(e){var n=e.ctx.rangeBar.getTooltipValues(e),t=n.seriesName.trim().substring(0,n.seriesName.trim().length-1),a=n.ylabel.trim().substring(0,n.ylabel.trim().length-1),r=new Date(n.start),c=new Date(n.end);return'<div class="apexcharts-tooltip-rangebar"><div>'+'<span class="series-name" style="font-weight: bold">'.concat(a,"</span>")+"</div><div>"+'<span class="category" style="color:'.concat(o(t),'">').concat(n.seriesName,"</span>")+'<span class="value start-value" style="font-weight: bold">'.concat(n.startVal," ").concat(i(r.getHours(),r.getMinutes()),"</span>")+'<span class="separator"> - </span>'+'<span class="value end-value" style="font-weight: bold">'.concat(n.endVal," ").concat(i(c.getHours(),c.getMinutes()),"</span>")+"</div></div></div>"}}};return Object(a.useEffect)((function(){r([{name:"Z\xe1vazn\xe1 Rezervace",data:[{x:"Apartman 2 + 2",y:[new Date(2021,5,1,14,0).getTime(),new Date(2021,5,5,10,0).getTime()]}]},{name:"Z\xe1vazn\xe1 Rezervace",data:[{x:"Apartman 2 + 2",y:[new Date(2021,5,7,14,0).getTime(),new Date(2021,5,12,10,0).getTime()]}]},{name:"Aktu\xe1ln\u011b Ubytov\xe1n\xed",data:[{x:"Apartman 2 + 4",y:[new Date(2021,5,3,14,0).getTime(),new Date(2021,5,6,10,0).getTime()]}]},{name:"Obydlen\xfd Term\xedn",data:[{x:"Apartman 2 + 4",y:[new Date(2021,5,11,14,0).getTime(),new Date(2021,5,15,10,0).getTime()]}]},{name:"Nez\xe1vazn\xe1 Rezervace",data:[{x:"Apartman 4 + 4",y:[new Date(2021,5,5,14,0).getTime(),new Date(2021,5,10,10,0).getTime()]}]}])}),[]),Object(y.jsx)("div",{id:"chart",children:Object(y.jsx)(J.a,{series:t,options:c,type:"rangeBar",height:350})})}})]})]})})}),document.getElementById("root"))}},[[389,1,2]]]);
//# sourceMappingURL=main.d5b2e7b0.chunk.js.map