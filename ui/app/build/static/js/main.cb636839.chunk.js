(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{219:function(e,t,n){},220:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},392:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(29),o=n.n(r),i=n(88),c=n(28),s=(n(219),n(408)),d=n(414),u=n(409),l=n(411),h=n(416),m=n(49),b=n(204),v=n.n(b),f=n(121),j=(n(220),n.p+"static/media/mill.1f872c17.svg"),y=n(9),p=Object(c.f)((function(e){e.location,e.history;var t=Object(a.useState)(""),n=Object(m.a)(t,2),r=n[0],o=n[1];return Object(y.jsxs)(f.Header,{className:"app-header",children:[Object(y.jsxs)("div",{className:"app-header__logo-search-section",children:[Object(y.jsx)("div",{className:"app-header__logo",children:Object(y.jsx)(i.b,{to:"/",children:Object(y.jsx)("img",{src:j,alt:"Kamenice logo"})})}),Object(y.jsx)("div",{className:"app-header__search-input",children:Object(y.jsx)(v.a,{placeholder:"",enterButton:!0,onChange:function(e){return o(e.target.value)},onSearch:function(){},value:r})})]}),Object(y.jsx)("div",{className:"app-header__menu-section"})]})})),g=n(106),O=n.n(g),x=(n(293),n(294),n(97)),z=n(212),k=n(402),w=n(102),D={months:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],weekDays:[{name:"Ned\u011ble",short:"Ned",isWeekend:!0},{name:"Pond\u011bl\xed",short:"Pon"},{name:"\xdater\xfd",short:"\xdat"},{name:"St\u0159eda",short:"St"},{name:"\u010ctvrtek",short:"\u010ct"},{name:"P\xe1tek",short:"P\xe1"},{name:"Sobota",short:"Sob",isWeekend:!0}],weekStartingIndex:0,getToday:function(e){return e},toNativeDate:function(e){return new Date(e.year,e.month-1,e.day)},getMonthLength:function(e){return new Date(e.year,e.month,0).getDate()},transformDigit:function(e){return e},nextMonth:"P\u0159\xed\u0161t\xed M\u011bs\xedc",previousMonth:"P\u0159edchoz\xed M\u011bs\xedc",openMonthSelector:"Otev\u0159\xedt V\xfdb\u011br M\u011bs\xedce",openYearSelector:"Otev\u0159\xedt V\xfdb\u011br Roku",closeMonthSelector:"Zav\u0159\xedt V\xfdb\u011br M\u011bs\xedce",closeYearSelector:"Zav\u0159\xedt V\xfdb\u011br Roku",defaultPlaceholder:"Vybrat...",from:"od",to:"do",digitSeparator:",",yearLetterSkip:0,isRtl:!1},R=function(e,t,n,a){for(var r=[],o=e;o<=t;o++)r.push({year:a,month:n,day:o});return r},N=function(e,t,n,a){var r=Object(w.utils)("en").getMonthLength,o=[];return n.forEach((function(i,c){0===c?R(e,r({day:e,month:i,year:a}),i,a).forEach((function(e){return o.push(e)})):c===n.length-1?R(1,t,i,a).forEach((function(e){return o.push(e)})):R(1,r({day:1,month:i,year:a}),i,a).forEach((function(e){return o.push(e)}))})),o},S=function(e,t){if(void 0===e||null===e||void 0===t||null===t)return[];if(t.year===e.year){if(t.month===e.month)return R(e.day,t.day,e.month,e.year);for(var n=[],a=e.month;a<=t.month;a++)n.push(a);return N(e.day,t.day,n,e.year)}for(var r=[],o=e.year;o<=t.year;o++)r.push(o);return function(e,t,n,a,r){var o=Object(w.utils)("en").getMonthLength,i=[];return r.forEach((function(c,s){var d=[];if(0===s){for(var u=n;u<=12;u++)d.push(u);N(e,o({day:1,month:12,year:c}),d,c).forEach((function(e){return i.push(e)}))}else if(s===r.length-1){for(var l=1;l<=a;l++)d.push(l);d.length>1?N(1,t,d,c).forEach((function(e){return i.push(e)})):R(1,t,d[0],c).forEach((function(e){return i.push(e)}))}else{var h=Array.from(Array(13).keys());h.shift(),N(1,o({day:1,month:12,year:c}),h,c).forEach((function(e){return i.push(e)}))}})),i}(e.day,t.day,e.month,t.month,r)},_=(n(295),n(162)),T=n(413),C=n(412),M=n(52),E=n(410),I=n(401),P=n(415),A=n(164),Z=function(e){switch(e){case"nonbinding":return"Nez\xe1vazn\xe1 Rezervace";case"accommodated":return"Aktu\xe1ln\u011b Ubytov\xe1n\xed";case"inhabited":return"Obydlen\xfd Term\xedn";case"binding":default:return"Z\xe1vazn\xe1 Rezervace"}},L=n(418),B=n(32),V=n.n(B),H=_.a.RangePicker,Y=function(e){var t=e.close,n=e.isOpen,r=e.range,o=e.updateRange,i=Object(a.useState)(),c=Object(m.a)(i,2),s=c[0],d=c[1],u=Object(a.useState)(),l=Object(m.a)(u,2),h=l[0],b=l[1],v=Object(a.useState)("binding"),f=Object(m.a)(v,2),j=f[0],p=f[1],g="YYYY-MM-DD",O="HH:mm";Object(a.useEffect)((function(){void 0!==r&&(d(r.from),b(r.to),p(r.type))}),[r]);var x=function(e){if(void 0!==e&&void 0!==e.hour&&void 0!==e.minute)return V()([e.year,e.month,e.day,e.hour,e.minute])},z=Object(y.jsxs)(T.a,{children:[Object(y.jsx)(T.a.Item,{onClick:function(){p("binding")},children:Z("binding")},Z("binding")),Object(y.jsx)(T.a.Item,{onClick:function(){p("nonbinding")},children:Z("nonbinding")},Z("nonbinding")),Object(y.jsx)(T.a.Item,{onClick:function(){p("accommodated")},children:Z("accommodated")},Z("accommodated")),Object(y.jsx)(T.a.Item,{onClick:function(){p("inhabited")},children:Z("inhabited")},Z("inhabited"))]});return Object(y.jsx)(C.a,{onCancel:t,title:"Rezerva\u010dn\xed formul\xe1\u0159",visible:n,footer:[Object(y.jsx)(M.a,{onClick:t,children:"Zru\u0161it"},"cancel"),Object(y.jsx)(M.a,{disabled:void 0===s||void 0===h,onClick:function(){if(void 0!==s&&void 0!==h){var e={from:s,to:h,type:j};void 0!==r&&void 0!==r.id&&(e.id=r.id),o(e)}t()},children:"OK"},"ok")],children:Object(y.jsxs)(E.a,{layout:"vertical",children:[Object(y.jsx)(E.a.Item,{label:"Datum Rezervace",children:function(){var e,t;if(void 0!==s){var n=s.year,a=s.month,r=s.day;e=V()([n,a-1,r])}else e=V()();if(void 0!==h){var o=h.year,i=h.month,c=h.day;t=V()([o,i-1,c])}else t=V()();return Object(y.jsx)(H,{value:[V()(e,g),V()(t,g)],format:g,locale:A.a,onChange:function(e){null!==e&&null!==e[0]&&null!==e[1]&&(d({year:e[0].year(),month:e[0].month()+1,day:e[0].date(),hour:void 0===(null===s||void 0===s?void 0:s.hour)?14:s.hour,minute:void 0===(null===s||void 0===s?void 0:s.minute)?0:s.minute}),b({year:e[1].year(),month:e[1].month()+1,day:e[1].date(),hour:void 0===(null===h||void 0===h?void 0:h.hour)?10:h.hour,minute:void 0===(null===h||void 0===h?void 0:h.minute)?0:h.minute}))}})}()}),Object(y.jsx)(E.a.Item,{label:"\u010cas p\u0159\xedjezdu",children:Object(y.jsx)(I.a,{value:x(s),format:O,locale:A.a,onChange:function(e){if(null!==e&&void 0!==s){var t=s;t.hour=e.hour(),t.minute=e.minute(),d(t)}}})}),Object(y.jsx)(E.a.Item,{label:"\u010cas odjezdu",children:Object(y.jsx)(I.a,{value:x(h),format:O,onChange:function(e){if(null!==e&&void 0!==h){var t=h;t.hour=e.hour(),t.minute=e.minute(),b(t)}}})}),Object(y.jsx)(E.a.Item,{label:"Typ Rezervace",children:Object(y.jsx)(P.a,{overlay:z,trigger:["click"],children:Object(y.jsxs)(M.a,{type:"link",children:[Z(j)," ",Object(y.jsx)(L.a,{})]})})})]})})},K=function(e){var t=e.room,n=Object(a.useState)(),r=Object(m.a)(n,2),o=r[0],i=r[1],c=Object(a.useState)(!1),s=Object(m.a)(c,2),d=s[0],u=s[1],l=Object(a.useState)([]),h=Object(m.a)(l,2),b=h[0],v=h[1],f=function(e){switch(e){case"binding":return"greenDay";case"nonbinding":return"yellowDay";case"accommodated":return"purpleDay";case"inhabited":return"orangeDay";default:return"greenDay"}};Object(a.useEffect)((function(){var e=[];t.reservedRanges.forEach((function(t){S(t.from,t.to).forEach((function(n){e.push(Object(x.a)({className:f(t.type),rangeId:t.id},n))}))})),v(e)}),[t.reservedRanges]);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(k.a,{span:12,className:"home__listing",children:[Object(y.jsxs)(O.a,{level:4,className:"home__listings-title",children:[" ",t.name]}),Object(y.jsx)("div",{className:"home__calendar",children:Object(y.jsx)(w.Calendar,{onChange:function(e){var n=b.find((function(t){return t.year===(null===e||void 0===e?void 0:e.year)&&t.month===e.month&&t.day===e.day}));void 0===n?function(e){void 0!==e&&null!==e&&i({from:Object(x.a)(Object(x.a)({},e),{},{hour:14,minute:0}),to:Object(x.a)(Object(x.a)({},e),{},{day:e.day+1,hour:10,minute:0}),type:"binding"})}(e):i(t.reservedRanges.find((function(e){return e.id===n.rangeId}))),u(!0)},locale:D,customDaysClassName:b,shouldHighlightWeekends:!0})})]}),Object(y.jsx)(Y,{close:function(){u(!1)},isOpen:d,range:o,updateRange:function(e){t.reservedRanges=[].concat(Object(z.a)(t.reservedRanges.filter((function(t){return void 0!==t.id&&t.id!==e.id}))),[e])}})]})},U=n(403),W=[{id:1,name:"Apartman 2 + 2",reservedRanges:[{id:1,from:{year:2021,month:6,day:1,hour:14,minute:0},to:{year:2021,month:6,day:5},type:"inhabited"},{id:2,from:{year:2021,month:6,day:14,hour:15,minute:30},to:{year:2021,month:6,day:18,hour:14,minute:15},type:"accommodated"},{id:3,from:{year:2021,month:6,day:28,hour:14,minute:0},to:{year:2021,month:6,day:30,hour:14,minute:30},type:"binding"}]},{id:2,name:"Apartman 2 + 4",reservedRanges:[{id:4,from:{year:2021,month:6,day:7,hour:18,minute:15},to:{year:2021,month:6,day:11,hour:14,minute:0},type:"binding"},{id:5,from:{year:2021,month:6,day:23,hour:10,minute:0},to:{year:2021,month:6,day:25,hour:14,minute:0},type:"nonbinding"}]}],J=n(207),F=n.n(J);n(390);V.a.locale("cs");var G=new u.a({uri:"/api",cache:new l.a});o.a.render(Object(y.jsx)(h.a,{client:G,children:Object(y.jsx)(i.a,{children:Object(y.jsxs)(s.a,{id:"app",children:[Object(y.jsx)(d.a,{offsetTop:0,className:"app__affix-header",children:Object(y.jsx)(p,{})}),Object(y.jsxs)(c.c,{children:[Object(y.jsx)(c.a,{exact:!0,path:"/",component:function(){return Object(y.jsxs)(f.Content,{className:"home",children:[Object(y.jsxs)("div",{className:"home__listings",children:[Object(y.jsx)(O.a,{level:3,className:"home__listings-title",children:"Rezervace / Obsazenost"}),Object(y.jsx)(U.a,{gutter:12,children:W.map((function(e,t){return Object(y.jsx)(K,{room:e},t)}))})]}),Object(y.jsx)(O.a,{level:3,children:Object(y.jsx)(i.b,{to:"/prehled",children:"P\u0159ehled"})})]})}}),Object(y.jsx)(c.a,{exact:!0,path:"/prehled",component:function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],r=t[1],o=function(e){switch(e){case"Nez\xe1vazn\xe1 Rezervace":return"#e4e724";case"Aktu\xe1ln\u011b Ubytov\xe1n\xed":return"#9c88ff";case"Obydlen\xfd Term\xedn":return"#db913c";case"Z\xe1vazn\xe1 Rezervace":default:return"#0eca2d"}},i=function(e,t){var n="";return n+=(e<10?"0":"")+e,n+=":",n+=(t<10?"0":"")+t},c={chart:{height:350,locales:[{name:"en",options:{months:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],shortMonths:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],toolbar:{download:"St\xe1hnout",pan:"Panor\xe1ma",reset:"Resetovat P\u0159ibl\xed\u017een\xed",selectionZoom:"Zv\u011bt\u0161en\xed V\xfdb\u011bru",zoomIn:"P\u0159ibl\xed\u017eit",zoomOut:"Odd\xe1lit"}}}],type:"rangeBar"},plotOptions:{bar:{horizontal:!0,barHeight:"50%",rangeBarGroupRows:!0}},colors:[function(e){var t=e.seriesIndex,n=e.w;return o(n.config.series[t].name)}],fill:{type:"solid"},xaxis:{type:"datetime"},legend:{customLegendItems:["Z\xe1vazn\xe1 Rezervace","Nez\xe1vazn\xe1 Rezervace","Aktu\xe1ln\u011b Ubytov\xe1n\xed","Obydlen\xfd Term\xedn"],markers:{width:12,height:12,strokeWidth:0,strokeColor:"#fff",fillColors:["#0eca2d","#e4e724","#9c88ff","#db913c"],radius:12,customHTML:void 0,onClick:void 0,offsetX:0,offsetY:0},position:"top"},tooltip:{custom:function(e){var t=e.ctx.rangeBar.getTooltipValues(e),n=t.seriesName.trim().substring(0,t.seriesName.trim().length-1),a=t.ylabel.trim().substring(0,t.ylabel.trim().length-1),r=new Date(t.start),c=new Date(t.end);return'<div class="apexcharts-tooltip-rangebar"><div>'+'<span class="series-name" style="font-weight: bold">'.concat(a,"</span>")+"</div><div>"+'<span class="category" style="color:'.concat(o(n),'">').concat(t.seriesName,"</span>")+'<span class="value start-value" style="font-weight: bold">'.concat(t.startVal," ").concat(i(r.getHours(),r.getMinutes()),"</span>")+'<span class="separator"> - </span>'+'<span class="value end-value" style="font-weight: bold">'.concat(t.endVal," ").concat(i(c.getHours(),c.getMinutes()),"</span>")+"</div></div></div>"}}};return Object(a.useEffect)((function(){r([{name:"Z\xe1vazn\xe1 Rezervace",data:[{x:"Apartman 2 + 2",y:[new Date(2021,5,1,14,0).getTime(),new Date(2021,5,5,10,0).getTime()]}]},{name:"Z\xe1vazn\xe1 Rezervace",data:[{x:"Apartman 2 + 2",y:[new Date(2021,5,7,14,0).getTime(),new Date(2021,5,12,10,0).getTime()]}]},{name:"Aktu\xe1ln\u011b Ubytov\xe1n\xed",data:[{x:"Apartman 2 + 4",y:[new Date(2021,5,3,14,0).getTime(),new Date(2021,5,6,10,0).getTime()]}]},{name:"Obydlen\xfd Term\xedn",data:[{x:"Apartman 2 + 4",y:[new Date(2021,5,11,14,0).getTime(),new Date(2021,5,15,10,0).getTime()]}]},{name:"Nez\xe1vazn\xe1 Rezervace",data:[{x:"Apartman 4 + 4",y:[new Date(2021,5,5,14,0).getTime(),new Date(2021,5,10,10,0).getTime()]}]}])}),[]),Object(y.jsx)("div",{id:"chart",children:Object(y.jsx)(F.a,{series:n,options:c,type:"rangeBar",height:350})})}})]})]})})}),document.getElementById("root"))}},[[392,1,2]]]);
//# sourceMappingURL=main.cb636839.chunk.js.map